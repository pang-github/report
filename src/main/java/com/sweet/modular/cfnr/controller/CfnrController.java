package com.sweet.modular.cfnr.controller;import com.sweet.core.translationDict.DictParam;import com.sweet.core.translationDict.TranslationDict;import com.sweet.core.util.RedisUtil;import com.sweet.modular.drug.entity.Drug;import com.sweet.modular.drug.service.DrugService;import com.sweet.modular.rxdrug.entity.Rxdrug;import org.apache.commons.lang3.StringUtils;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import com.sweet.core.model.ResultBean;import com.sweet.core.model.system.LayuiPageInfo;import com.sweet.modular.cfnr.entity.Cfnr;import com.sweet.modular.cfnr.service.CfnrService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import com.sweet.core.util.StringUtil;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.stereotype.Controller;import java.util.List;/** * <p> * 处方药 前端控制器 * </p> * * @author admin * @since 2020-01-08 */@Controller@RequestMapping("/admin/cfnr")public class CfnrController {    @Autowired    CfnrService cfnrService;    @Autowired    DrugService drugService;    @Autowired    RedisUtil redisUtil;    /**     * 列表页     */    @RequestMapping("/cfnr_list")    public String list(){        return "/modular/cfnr/cfnr_list";    }    /**     * 编辑页     */    @RequestMapping("/cfnr_edit")    public String edit(){        return "/modular/cfnr/cfnr_edit";    }    /**     * 添加/编辑     */    @RequestMapping("/editCfnr")    @ResponseBody    public ResultBean editCfnr(Cfnr cfnr){        cfnrService.saveOrUpdate(cfnr);        return ResultBean.success(cfnr);    }    /**     * 删除     */    @RequestMapping("/delCfnr")    @ResponseBody    public ResultBean delCfnr(Cfnr cfnr){        cfnrService.removeById(cfnr);        return ResultBean.success(cfnr);    }    /**     * 添加修改菜单     * @param menu     * @return     */    @RequestMapping("/getCfnrDetail")    @ResponseBody    public ResultBean getCfnrDetail(String id){        Cfnr cfnr = cfnrService.getById(id);        return ResultBean.success(cfnr);    }    /**     * 根据处方id查询     * @param menu     * @return     */    @RequestMapping("/getrecipeId")    @ResponseBody    public ResultBean getrecipeId(String recipeId){        List<Cfnr> list = cfnrService.findListrecipeId(recipeId);        /**for(Cfnr c:list){            Drug d =  drugService.getByDrugId(c.getId());            c.setDrugPrice(d.getDrugPrice());        }*/        return ResultBean.success(list);    }    /**     * 列表数据     */    @RequestMapping("/getCfnrList")    @ResponseBody    @TranslationDict({    })    public LayuiPageInfo getCfnrList(Cfnr Cfnr){        LayuiPageInfo pageInfo = cfnrService.findPageBySpec(Cfnr);        return pageInfo;    }}