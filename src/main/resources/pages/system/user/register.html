<% layout("/common/_container.html"){ %><link rel="stylesheet" href="/common/css/login.css"><div class="login-wrapper" id="app">    <div class="login-header">        <img src="${logo}"> ${sysName}    </div>    <div class="login-body">        <div class="layui-card">            <div class="layui-card-header">                <i class="layui-icon layui-icon-engine"></i>&nbsp;&nbsp;账号注册            </div>            <form class="layui-card-body layui-form layui-form-pane">                <div class="layui-form-item">                    <label class="layui-form-label"><i class="layui-icon layui-icon-username"></i></label>                    <div class="layui-input-block">                        <input name="userName" type="text" autocomplete="off" placeholder="账号" class="layui-input"                               lay-verType="tips" lay-verify="required" required/>                    </div>                </div>                <div class="layui-form-item">                    <label class="layui-form-label"><i class="layui-icon layui-icon-password"></i></label>                    <div class="layui-input-block">                        <input name="password" type="password" autocomplete="new-password" placeholder="密码" class="layui-input"                               lay-verType="tips" lay-verify="required|psw" required/>                    </div>                </div>                <div class="layui-form-item">                    <label class="layui-form-label"><i class="layui-icon layui-icon-password"></i></label>                    <div class="layui-input-block">                        <input name="rePsw" type="password" autocomplete="off" placeholder="确认密码" class="layui-input"                               lay-verType="tips" lay-verify="required|repsw" required/>                    </div>                </div>                <div class="layui-form-item">                    <a href="/admin/login" class="layui-link">去登陆</a>                    <a href="javascript:;" class="layui-link pull-right">忘记密码？</a>                </div>                <div class="layui-form-item">                    <button lay-filter="login-submit" :disabled="disabled" class="layui-btn layui-btn-fluid" lay-submit>注 册</button>                </div>            </form>        </div>    </div>    <div class="login-footer">        <p>© 2019 ${sysName} 版权所有</p>        <!--    <p>-->        <!--      <span><a href="https://easyweb.vip" target="_blank">获取授权</a></span>-->        <!--      <span><a href="https://easyweb.vip/doc/" target="_blank">开发文档</a></span>-->        <!--      <span><a href="https://demo.easyweb.vip/spa/" target="_blank">单页面版</a></span>-->        <!--    </p>-->    </div></div><script>    var vm = new Vue({        el: '#app',        data: {            msg: 'Hello World!',            info:'',            disabled:false        },        methods: {        },        mounted:async function() {            vm = this;            form.on('submit(login-submit)', function(obj){                console.log(obj);                api.register(obj.field).then(res=>{                    vm.disabled = true;                    layer.msg('注册成功！请去登录页面进行登录~', {                        offset: '15px'                        ,icon: 1                        ,time: 500                    }, function(){                        location.href = '/admin'; //后台主页                    });                })                return false;            })            // 添加表单验证方法            form.verify({                psw: [/^[\S]{5,12}$/, '密码必须5到12位，且不能出现空格'],                repsw: function (t) {                    if (t !== $('input[name=password]').val()) {                        return '两次密码输入不一致';                    }                }            });            form.render();        },        updated: function () {            form.render();        }    })</script><% } %>