<%layout("/common/_container.html"){%><div class="layui-fluid" id="app">    <div class="layui-fluid" id="app">        <div class="layui-col-md12">            <div class="layui-card">                <div class="layui-card-body">                    <div class="layui-form toolbar">                    </div>                    <table class="layui-table" id="onlineTable" lay-filter="onlineTable"></table>                </div>            </div>        </div>    </div></div><script type="text/html" id="tableBar">    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="forceLogout">踢出</a></script><script>    var initColumn =  [[        {type: 'checkbox'},        {field: 'id', title: 'sessionId'},        {field: 'userId', hide: true, title: 'userId'},        {field: 'userName',title: 'userName'},        {field: 'host',title: 'host'},        {field: 'status',title: 'status'},        {field: 'startTimestamp',title: 'startTimestamp',},        {field: 'lastAccessTime',title: 'lastAccessTime',},        {field: 'timeout',title: 'timeout',},        {align: 'center', toolbar: '#tableBar', title: '操作'}    ]];    var vm = new Vue({        el: '#app',        data: {            msg: 'Hello World!',            onlineList:'',        },        methods: {            btnSearch:function () {            }        },        mounted:async function() {            vm = this;            table.render({                elem: '#onlineTable',                url: '/admin/online/list',                page: true,                height: "full-105",                cellMinWidth: 100,                cols: initColumn,            });            table.on('tool(onlineTable)', function (obj) {                var event = obj.event;                var data = obj.data;                if (event == 'forceLogout') {                    app.confirm("确定要踢出该用户吗?",function () {                        request.fetch("/admin/online/forceLogout",{sessionId:data.id}).then(res=>{                            app.success("操作成功！");                            location.reload();                        })                    })                }            });            form.render();        },        updated: function () {            form.render();        }    })</script><% } %>