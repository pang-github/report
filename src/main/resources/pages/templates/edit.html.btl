${cfg.begin}<% var tableId = cfg.fieldList[0].columnName; %><div class="layui-fluid" id="app">    <div class="layui-card" style="max-width: 60%;margin:30px auto;">        <div class="layui-card-body" >            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 35px;">                <legend>${table.comment}</legend>            </fieldset>            <form class="layui-form" lay-filter="${package.ModuleName}Form" style="margin: 35px 0 30px 20%;">              <% for(item in cfg.fieldList){ %>                <% if(item.columnName==tableId){ %>                    <input type="hidden" name="${item.columnName}">                <% }else{ %>                    <div class="layui-form-item">                        <label class="layui-form-label">${item.columnComment}<% if(item.verify!=""){ %><span style="color: red;">*</span><% } %></label>                        <div class="layui-input-inline">                          <% if(item.type=='input'){ %>                            <input name="${item.columnName}" type="text" placeholder="请输入${item.columnComment}" class="layui-input" lay-verify="${item.verify}" />                          <% }else if(item.type=='date'){ %>                            <input id="${item.columnName}" name="${item.columnName}" type="text" readonly placeholder="请选择${item.columnComment}" autocomplete="off" class="layui-input" lay-verify="${item.verify}" />                          <% }else if(item.type=='radio'){ %>                             <input type="radio" name="${item.columnName}" value="1" title="1" checked>                             <input type="radio" name="${item.columnName}" value="2" title="2">                          <% }else if(item.type=='select'){ %>                             <select name="${item.columnName}" lay-search lay-filter="${item.columnName}" lay-verify="${item.verify}">                               <option></option>                               <option v-for="item in ${item.columnName}Dic" :value="item.dictId">{{item.name}}</option>                             </select>                          <% }else if(item.type=='textarea'){ %>                             <textarea name="${item.columnName}" placeholder="请输入${item.columnComment}" class="layui-textarea" lay-verify="${item.verify}" ></textarea>                          <% }else if(item.type=='upload'){ %>                             <button type="button" class="layui-btn layui-btn-sm" id="${item.columnName}Upload"><i class="layui-icon"></i>选择图片</button>                             <div class="layui-upload-list">                                 <template v-if="${item.columnName}List.length>0">                                     <template v-for="(item,index) in ${item.columnName}List">                                         <div style="display: inline-block;">                                             <img :src="item.filePath" @click="app.previewImg" width="92px" height="92px" style="margin-right: 10px;"><br/><br/>                                             <button type="button" @click="app.deleteImg(index,${item.columnName}List)" style="margin-left: 25px"  class="layui-btn layui-btn-danger layui-btn-xs">删除</button>                                         </div>                                     </template>                                 </template>                                 <input type="hidden" name="${item.columnName}" v-model="app.isNotEmpty(${item.columnName}List)?get${item.columnName}Ids:''">                            </div>                          <% }else if(item.columnName=='createTime'){}%>                        </div>                    </div>                <% } %>               <% } %>                    <div class="layui-form-item" style="margin:28px 30px;">                        <div class="layui-input-block">                            <button type="button" class="layui-btn" lay-filter="${package.ModuleName}Form" lay-submit>提交</button>                            <button type="button" class="layui-btn layui-btn-primary" @click="back">返回</button>                        </div>                    </div>            </form>        </div>    </div></div><script>    var vm = new Vue({        el: '#app',        data: {            msg: 'Hello World!',            info:{},          <% for(item in cfg.fieldList){ %>           <% if(item.type=='select'){ %>            ${item.columnName}Dic:[],           <% } %>           <% if(item.type=='upload'){ %>            ${item.columnName}List:[],           <% } %>          <% } %>        },        computed:{        <% for(item in cfg.fieldList){ %>        <% if(item.type=='upload'){ %>            get${item.columnName}Ids:function(){                var fileIds = '';                var list = vm.${item.columnName}List;                if(app.isNotEmpty(list)){                    for(let img of list){                        fileIds += img.fileId+",";                    }                    fileIds = fileIds.slice(0,fileIds.length-1);                }                return fileIds;            }        <% } %>        <% } %>        },        methods: {            getDetail:async function(${tableId}){                vm.info = await request.fetch("get${table.entityName}Detail",{${tableId}:${tableId}});                form.val('${package.ModuleName}Form', vm.info);                <% for(item in cfg.fieldList){ %>                <% if(item.type=='upload'){ %>                if(app.isNotEmpty(vm.info.${item.columnName})){                    vm.${item.columnName}List = await api.getFileList(vm.info.${item.columnName});                }                <% } %>                <% } %>            },            back:function(){                location.href = '${package.ModuleName}_list';            },            getDic:async function(){                 var data = {                <% for(item in cfg.fieldList){ %>                <% if(item.type=='select'){ %>                     ${item.columnName}:'${item.dic}',                <% }} %>                 }                 var res = await api.getDictList(data);             <% for(item in cfg.fieldList){ %>             <% if(item.type=='select'){ %>                 vm.${item.columnName}Dic = res.${item.columnName};             <% }} %>            }        },        mounted:async function() {            vm = this;            var ${tableId} = app.getUrlParam('${tableId}');            await vm.getDic();          <% for(item in cfg.fieldList){ %>           <% if(item.type=='date'){ %>            laydate.render({                elem: '#${item.columnName}'            });           <% }else if(item.type=='upload'){ %>            upload.render({                elem: '#${item.columnName}Upload',                url: '/admin/common/upload',                accept: 'images',                data: {                    fileSavePath:""                },                done: function(res, index, upload){ //上传后的回调                    app.success("上传成功");                    var fileId = res.data.fileId;                    var filePath = res.data.filePath;                    vm.${item.columnName}List.push(res.data);                }            });           <% } %>          <% } %>            app.isNotEmpty(${tableId}) && await vm.getDetail(${tableId});            form.on('submit(${package.ModuleName}Form)', function (data) {                request.post("edit${table.entityName}",data.field).then(res=>{                    app.success("操作成功！");                    location.href = '${package.ModuleName}_list'                })                return false;            });            form.render();        },        updated: function () {            form.render();        }    })</script>${cfg.end}<style>    .layui-input-inline{        min-width:350px !important;    }</style>