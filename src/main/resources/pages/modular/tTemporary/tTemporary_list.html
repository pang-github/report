 <% layout("/common/_container.html"){ %><style>    .numberInfoSuffix{        font-size: 50px;        color: #FF5722;    }</style><div class="layui-fluid" id="app">    <div class="layui-row layui-col-space1">        <div class="layui-col-xs12 layui-col-md12">            <div class="layui-card" style="">                <div class="layui-card" >                    <div class="layui-row" >                        <div class="layui-col-md4" style="margin-top: 10px;">                        <button class="layui-btn layui-btn-sm layui-btn-normal" >今天</button>                        <button class="layui-btn layui-btn-sm layui-btn-normal" >昨天</button>                        <button class="layui-btn layui-btn-sm layui-btn-normal" >本月</button>                        <button class="layui-btn layui-btn-sm layui-btn-normal" >上月</button>                        <button class="layui-btn layui-btn-sm layui-btn-normal" >本年</button>                        </div>                        <div class="layui-col-md4" style="margin-top: 10px;">                            <div class="layui-inline">                                <label class="layui-form-label">当前日期</label>                                <div class="layui-input-inline">                                    <input type="text" class="layui-input" id="bgin" placeholder="yyyy-MM-dd">                                </div>                                <span>至</span>                                <div class="layui-input-inline">                                    <input type="text" class="layui-input" id="test1" placeholder="yyyy-MM-dd">                                </div>                            </div>                        </div>                        <div class="layui-col-md4" style="margin-top: 10px;">                            <div class="layui-inline">                                <label class="layui-form-label">对比日期</label>                                <div class="layui-input-inline">                                    <input type="text" class="layui-input" id="test2" placeholder="yyyy-MM-dd">                                </div>                                <span>至</span>                                <div class="layui-input-inline">                                    <input type="text" class="layui-input" id="test1" placeholder="yyyy-MM-dd">                                </div>                            </div>                        </div>                        <div class="layui-col-md12">                            <p class="layui-col-md1">                                <input class="layui-input" type="text" placeholder="店铺编号">                            </p>                            <button class="layui-btn layui-btn-sm layui-btn-normal" >查询</button>                        </div>                    </div>                </div>            </div>        </div>        <div class="layui-col-xs12 layui-col-md12">            <div class="layui-card">                <div class="layui-row" style="height:200px;">                    <div class="layui-col-xs10 layui-col-sm10 layui-col-lg2 text-center" >                        <div class="numberInfoValue" style="margin-top: 30px;margin-bottom: 50px">                            <strong class="numberInfoSuffix">￥<span>0.00</span></strong>                            <p>营收金额</p>                            <P class="layui-word-aux">对比昨日 ￥123</P>                        </div>                    </div>                    <div class="layui-col-xs10 layui-col-sm10 layui-col-lg2 text-center" >                        <div class="numberInfoValue" style="margin-top: 30px">                            <strong class="numberInfoSuffix">￥<span>0.00</span></strong>                            <p>营收金额</p>                            <P class="layui-word-aux">对比昨日 ￥123</P>                        </div>                    </div>                    <div class="layui-col-xs10 layui-col-sm10 layui-col-lg2 text-center" >                        <div class="numberInfoValue" style="margin-top: 30px">                            <strong class="numberInfoSuffix">￥<span>0.00</span></strong>                            <p>营收金额</p>                            <P class="layui-word-aux">对比昨日 ￥123</P>                        </div>                    </div>                    <div class="layui-col-xs10 layui-col-sm10 layui-col-lg2 text-center" >                        <div class="numberInfoValue" style="margin-top: 30px">                            <strong class="numberInfoSuffix">￥<span>0.00</span></strong>                            <p>营收金额</p>                            <P class="layui-word-aux">对比昨日 ￥123</P>                        </div>                    </div>                    <div class="layui-col-xs10 layui-col-sm10 layui-col-lg2 text-center" >                        <div class="numberInfoValue" style="margin-top: 30px">                            <strong class="numberInfoSuffix">￥<span>0.00</span></strong>                            <p>营收金额</p>                            <P class="layui-word-aux">对比昨日 ￥123</P>                        </div>                    </div>                </div>            </div>            <div class="layui-card">                <div class="layui-card-header">柱形图</div>                     <div class="layui-card-body">                         <div id="_top" style="height: 600px;margin-top:100px;">                         </div>                     </div>                </div>        </div>        <div class="layui-col-xs12">            <div class="layui-card">                <div class="layui-card-body">                    <div class="layui-tab layui-tab-brief" lay-filter="tabZZT">                        <ul class="layui-tab-title">                            <li class="layui-this">产品销售量</li>                            <li>员工业绩</li>                        </ul>                        <div class="layui-tab-content">                            <div class="layui-tab-item layui-show">                                <div class="layui-row layui-col-space30">                                    <div class="layui-col-xs12 layui-col-md8">                                        <div id="xse" style="height: 300px;margin-top: 20px;"></div>                                    </div>                                    <div class="layui-col-xs12 layui-col-md4">                                        <table class="layui-table" lay-skin="nob">                                            <colgroup>                                                <col width="50">                                                <col>                                                <col width="96">                                            </colgroup>                                            <thead>                                            <tr style="background: none;color: #333;">                                                <th colspan="3">门店销售额排名</th>                                            </tr>                                            </thead>                                            <tbody>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">1</span></td>                                                <td>工专路 0 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">2</span></td>                                                <td>工专路 1 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">3</span></td>                                                <td>工专路 2 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">4</span></td>                                                <td>工专路 4 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">5</span></td>                                                <td>工专路 5 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">6</span></td>                                                <td>工专路 6 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">7</span></td>                                                <td>工专路 7 号店</td>                                                <td>323,234</td>                                            </tr>                                            </tbody>                                        </table>                                    </div>                                </div>                            </div>                            <div class="layui-tab-item">                                <div class="layui-row layui-col-space30">                                    <div class="layui-col-xs12 layui-col-md8">                                        <div id="fwl" style="height: 300px;margin-top: 20px;"></div>                                    </div>                                    <div class="layui-col-xs12 layui-col-md4">                                        <table class="layui-table" lay-skin="nob">                                            <colgroup>                                                <col width="50">                                                <col>                                                <col width="96">                                            </colgroup>                                            <thead>                                            <tr style="background: none;color: #333;">                                                <th colspan="3">门店访问量排名</th>                                            </tr>                                            </thead>                                            <tbody>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">1</span></td>                                                <td>工专路 0 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">2</span></td>                                                <td>工专路 1 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-cyan">3</span></td>                                                <td>工专路 2 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">4</span></td>                                                <td>工专路 4 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">5</span></td>                                                <td>工专路 5 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">6</span></td>                                                <td>工专路 6 号店</td>                                                <td>323,234</td>                                            </tr>                                            <tr>                                                <td><span class="layui-badge layui-bg-gray">7</span></td>                                                <td>工专路 7 号店</td>                                                <td>323,234</td>                                            </tr>                                            </tbody>                                        </table>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div>    </div><script type="text/javascript" src="/plugin/echarts/echarts.min.js"></script><script type="text/javascript" src="/plugin/echarts/echartsTheme.js"></script><script>    var initColumn =  [[        {type: 'checkbox'},        {field:'id',title:'',hide:true},        {field:'recordId',title:'住院id'},        {field:'drugName',title:'药品名字'},        {field:'drugNumber',title:'药品数量'},        {field:'drugUnit',title:'药品单位'},        {field:'drugPrice',title:'药品价格'},        {align: 'center', toolbar: '#tableBar', title: '操作'}    ]];    var vm = new Vue({        el: '#app',        data: {            msg: 'Hello World!',            condition:''        },        methods: {            btnAdd:function () {                location.href = 'rxdrug_edit';            },            tableReload:function (action) {                if(action=='reset'){ vm.condition='' };                var queryData = {                    recordId:vm.condition,                    drugName:vm.condition,                    id:vm.condition,                };                table.reload('rxdrugTable',{                    where: queryData, page: {                        curr: 1 //重新从第 1 页开始                    }});            },            setChart:function(time1,time2){                var myChart = echarts.init(document.getElementById('_top'));                myChart.showLoading();                $.get('').done(function (data) {                    myChart.hideLoading();                    // 填入数据                    myChart.setOption({                        legend: {                            data:[{                                name: "r1",                            },                                {                                    name: "r2",                                }]                        },                        xAxis: {                        },                        series: [{                            // 根据名字对应到相应的系列                            name: "r1",                            data: [5, 20, 36, 10, 10, 20]                        },{                            // 根据名字对应到相应的系列                            name: "r2",                            data: [5, 20, 36, 10, 10, 20]                        },                        ]                    });                });            }        },        mounted:async function() {            vm = this;            table.render({                elem: '#rxdrugTable',                url: 'getRxdrugList',                page: true,                height: "full-105",                cellMinWidth: 100,                cols: initColumn            });            table.on('tool(rxdrugTable)', function (obj) {                var event = obj.event;                var data = obj.data;                if (event == 'del') {                    app.confirm("确定删除吗?",function () {                        request.fetch("delRxdrug",data).then(res=>{                            app.success("删除成功！")                            vm.tableReload();                        })                    })                } else if (event == 'edit') {                    location.href = 'rxdrug_edit?id='+data.id;                }            });            layui.use(['layer', 'element'], function () {                var $ = layui.jquery;                var layer = layui.layer;                var element = layui.element;                // 基于准备好的dom，初始化echarts实例                var myChart = echarts.init(document.getElementById('_top'));                // 指定图表的配置项和数据                var option = {                    //--------------    标题 title  ----------------                    title: {                        text: '主标题',                        textStyle: {					//---主标题内容样式                            color: '#bbb'                        },                        subtext: '副标题',			//---副标题内容样式                        subtextStyle: {                            color: '#bbb'                        },                        padding: [0, 0, 100, 100]				//---标题位置,因为图形是是放在一个dom中,因此用padding属性来定位                    },                    //----------------   图例 legend  -----------------                    legend: {                        type: 'scroll',				//----图例类型，默认为'plain'，当图例很多时可使用'scroll'                        top: '1%',					//----图例相对容器位置,top\bottom\left\right                        selected: {                            '销量': true,			//----图例选择,图形加载出来会显示选择的图例，默认为true                        },                        textStyle: {					//----图例内容样式                            color: '#bbb',				//---所有图例的字体颜色                            //backgroundColor:'black',	//---所有图例的字体背景色                        },                        tooltip: {					//图例提示框，默认不显示                            show: true,                            color: 'red',                        },                        data: [						//----图例内容                            {                                name: '销量',                                icon: 'circle',			//----图例的外框样式                                //textStyle: {                                //----单独设置某一个图例的颜色                                //backgroundColor:'black',//---单独设置某一个图例的字体背景色                                //}                            },                        ],                    },                    //--------------   提示框 -----------------                    tooltip: {                        show: true,					//---是否显示提示框,默认为true                        trigger: 'item',				//---数据项图形触发                        axisPointer: {				//---指示样式                            type: 'shadow',                            axis: 'auto',                        },                        padding: 5,                        textStyle: {					//---提示框内容样式                            color: "#fff",                        },                    },                    //-------------  grid区域  ----------------                    grid: {                        show: false,					//---是否显示直角坐标系网格                        top: 80,						//---相对位置，top\bottom\left\right                        containLabel: false,			//---grid 区域是否包含坐标轴的刻度标签                        tooltip: {					//---鼠标焦点放在图形上，产生的提示框                            show: true,                            trigger: 'item',			//---触发类型                            textStyle: {                                color: '#fff',                            },                        }                    },                    //-------------   x轴   -------------------                    xAxis: {                        show: true,					//---是否显示                        position: 'bottom',			//---x轴位置                        offset: 0,					//---x轴相对于默认位置的偏移                        type: 'category',			//---轴类型，默认'category'                        name: '月份',				//---轴名称                        nameLocation: 'end',			//---轴名称相对位置                        nameTextStyle: {				//---坐标轴名称样式                            color: "#000",                            padding: [10, 0, 0, -10],	//---坐标轴名称相对位置                        },                        nameGap: 15,					//---坐标轴名称与轴线之间的距离                        //nameRotate:270,			//---坐标轴名字旋转                        axisLine: {					//---坐标轴 轴线                            show: true,					//---是否显示                            //------------------- 箭头 -------------------------                            symbol: ['none', 'arrow'],	//---是否显示轴线箭头                            symbolSize: [8, 8],			//---箭头大小                            symbolOffset: [0, 7],			//---箭头位置                            //------------------- 线 -------------------------                            lineStyle: {                                color: '#1E9FFF',                                width: 1,                                type: 'solid',                            },                        },                        axisTick: {					//---坐标轴 刻度                            show: true,					//---是否显示                            inside: true,				//---是否朝内                            lengt: 6,					//---长度                            lineStyle: {                                //color:'red',			//---默认取轴线的颜色                                width: 1,                                type: 'solid',                            },                        },                        axisLabel: {					//---坐标轴 标签                            show: true,					//---是否显示                            inside: false,				//---是否朝内                            rotate: 0,					//---旋转角度                            margin: 5,					//---刻度标签与轴线之间的距离                            //color:'red',				//---默认取轴线的颜色                        },                        splitLine: {					//---grid 区域中的分隔线                            show: false,					//---是否显示，'category'类目轴不显示，此时我的X轴为类目轴，splitLine属性是无意义的                            lineStyle: {                                //color:'red',                                //width:1,                                //type:'solid',                            },                        },                        splitArea: {					//--网格区域                            show: false,					//---是否显示，默认false                        },                        data: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],//内容                    },                    //----------------------  y轴  ------------------------                    yAxis: {                        show: true,					//---是否显示                        position: 'left',			//---y轴位置                        offset: 0,					//---y轴相对于默认位置的偏移                        type: 'value',			//---轴类型，默认'category'                        name: '销量',				//---轴名称                        nameLocation: 'end',			//---轴名称相对位置value                        nameTextStyle: {				//---坐标轴名称样式                            color: "#000",                            padding: [5, 0, 0, 5],	//---坐标轴名称相对位置                        },                        nameGap: 15,					//---坐标轴名称与轴线之间的距离                        //nameRotate:270,			//---坐标轴名字旋转                        axisLine: {					//---坐标轴 轴线                            show: true,					//---是否显示                            //------------------- 箭头 -------------------------                            symbol: ['none', 'arrow'],	//---是否显示轴线箭头                            symbolSize: [8, 8],			//---箭头大小                            symbolOffset: [0, 7],			//---箭头位置                            //------------------- 线 -------------------------                            lineStyle: {                                color: '#1E9FFF',                                width: 1,                                type: 'solid',                            },                        },                        axisTick: {					//---坐标轴 刻度                            show: true,					//---是否显示                            inside: true,				//---是否朝内                            lengt: 3,					//---长度                            lineStyle: {                                //color:'red',			//---默认取轴线的颜色                                width: 1,                                type: 'solid',                            },                        },                        axisLabel: {					//---坐标轴 标签                            show: true,					//---是否显示                            inside: false,				//---是否朝内                            rotate: 0,					//---旋转角度                            margin: 8,					//---刻度标签与轴线之间的距离                            //color:'red',				//---默认取轴线的颜色                        },                        splitLine: {					//---grid 区域中的分隔线                            show: true,					//---是否显示，'category'类目轴不显示，此时我的y轴为类目轴，splitLine属性是有意义的                            lineStyle: {                                color: '#1E9FFF',                                width: 1,                                type: 'dashed',			//---类型                            },                        },                        splitArea: {					//--网格区域                            show: false,					//---是否显示，默认false                        }                    },                    //------------ 内容数据  -----------------                    series: [                        {                            name: '销量',				//---系列名称                            type: 'bar',				//---类型                            legendHoverLink: true,		//---是否启用图例 hover 时的联动高亮                            label: {						//---图形上的文本标签                                show: true,                                position:'top',	//---相对位置                                rotate: 0,				//---旋转角度                                color: '#000',                            },                            itemStyle: {					//---图形形状                                color: '#1E9FFF',                                barBorderRadius: [0, 0, 0, 0],                            },                            barWidth: '30',				//---柱形宽度                            barCategoryGap: '20%',		//---柱形间距                            data: [3020, 4800, 3600, 6050, 4320, 6200, 5050, 7200, 4521, 6700, 9000,{value:5000,name:5000}]                        },                    ]                };                // 使用刚指定的配置项和数据显示图表。                myChart.setOption(option);                // 渲染销售额图表                var myCharts3 = echarts.init(document.getElementById('xse'), myEchartsTheme);                var option3 = {                    legend: {},                    tooltip: {},                    dataset: {                        // 提供一份数据。                        source: [                            ['product', '2015', '2016', ],                            ['产品A', 43.3, 85.8],                            ['产品B', 83.1, 73.4],                            ['产品C', 86.4, 65.2],                            ['产品4', 72.4, 53.9],                        ]                    },                    // 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。                    xAxis: {type: 'category'},                    // 声明一个 Y 轴，数值轴。                    yAxis: {},                    // 声明多个 bar 系列，默认情况下，每个系列会自动对应到 dataset 的每一列。                    series: [                        {type: 'bar',label:{show: true,position:'top',}},                        {type: 'bar',label:{show: true,position:'top',}},                    ]                }                myCharts3.setOption(option3);                // 渲染访问量图表                var myCharts4 = echarts.init(document.getElementById('fwl'), myEchartsTheme);                var option4  = {                    legend: {},                    tooltip: {},                    dataset: {                        source: [                            ['product', '2012', '2013', '2014', '2015'],                            ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],                            ['Milk Tea', 86.5, 92.1, 85.7, 83.1],                            ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]                        ]                    },                    xAxis: [                        {type: 'category', gridIndex: 0},                        {type: 'category', gridIndex: 1}                    ],                    yAxis: [                        {gridIndex: 0},                        {gridIndex: 1}                    ],                    grid: [                        {bottom: '55%'},                        {top: '55%'}                    ],                    series: [                        // 这几个系列会在第一个直角坐标系中，每个系列对应到 dataset 的每一行。                        {type: 'bar', seriesLayoutBy: 'row'},                        {type: 'bar', seriesLayoutBy: 'row'},                        {type: 'bar', seriesLayoutBy: 'row'},                        // 这几个系列会在第二个直角坐标系中，每个系列对应到 dataset 的每一列。                        {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},                        {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},                        {type: 'bar', xAxisIndex: 1, yAxisIndex: 1},                        {type: 'bar', xAxisIndex: 1, yAxisIndex: 1}                    ]                }                myCharts4.setOption(option4);                element.on('tab(tabZZT)', function (data) {                    if (data.index == 0) {                        myCharts3.resize();                    } else {                        myCharts4.resize();                    }                });                window.onresize = function () {                    myCharts.resize();                    myCharts2.resize();                    myCharts3.resize();                    myCharts4.resize();                };            })            form.render();        },        updated: function () {            form.render();        }    })</script><% } %>